# üîç –ü–ª–∞–Ω –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å RAG –ø–æ–∏—Å–∫–æ–º

## –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
‚ùå –ü–æ–∏—Å–∫ "–ì–∞–¥–∞–¥—Ö–∞—Ä–∞ –ü–∞–Ω–¥–∏—Ç" –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
‚úÖ –î–∞–Ω–Ω—ã–µ –µ—Å—Ç—å –≤ `chunked_scriptures_ru.json` 
‚úÖ –ö–æ–¥ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥: http://localhost:3000/

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å RAG API (Python backend)
```bash
.\venv\Scripts\python.exe test_api.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- API –¥–æ—Å—Ç—É–ø–µ–Ω (status 200)
- –ù–∞–π–¥–µ–Ω–æ 5-10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ü–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç "–ì–∞–¥–∞–¥—Ö–∞—Ä–∞"

**–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ RAG API —Å–µ—Ä–≤–µ—Ä
- –ü—Ä–æ–≤–µ—Ä—å GEMINI_API_KEY –≤ .env

---

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å API —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
1. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `file:///c:/Users/annac/shukabase-ai/test_api_browser.html`
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í–∏–¥–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
- –ù–µ—Ç –æ—à–∏–±–æ–∫ CORS

**–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ CORS:**
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ `rag_api_server.py` - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å flask-cors

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
1. –û—Ç–∫—Ä–æ–π http://localhost:3000/
2. –û—Ç–∫—Ä–æ–π Developer Tools (F12) ‚Üí –≤–∫–ª–∞–¥–∫–∞ Console
3. –í–≤–µ–¥–∏ –∑–∞–ø—Ä–æ—Å: "–ì–∞–¥–∞–¥—Ö–∞—Ä–∞ –ü–∞–Ω–¥–∏—Ç"
4. –û—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
üîç RAG Search Response: { success: true, resultCount: 5, ... }
üìö First result sample: { book: "...", ... }
```

**–ï—Å–ª–∏ –ª–æ–≥–æ–≤ –Ω–µ—Ç:**
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª hot reload –≤ Vite
- –ü–æ–ø—Ä–æ–±—É–π: Ctrl+Shift+R (–∂—ë—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞)
- –ò–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ `npm run dev`

**–ï—Å–ª–∏ –µ—Å—Ç—å –ª–æ–≥ "‚ö†Ô∏è No results found":**
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ RAG backend - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
- –ü—Ä–æ–≤–µ—Ä—å —à–∞–≥ 1

**–ï—Å–ª–∏ –µ—Å—Ç—å –ª–æ–≥ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏, –Ω–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è:**
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ UI –∏–ª–∏ –≤ `onSourcesFound` callback
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤—É—é –ø–∞–Ω–µ–ª—å "Sources"

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å `handleReadFull` (–∫–Ω–æ–ø–∫–∞ "Read Full")
1. –ü–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
2. –ö–ª–∏–∫–Ω–∏ "Read Full" –Ω–∞ –ª—é–±–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è HTML —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–ª–∞–≤—ã

**–ï—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–º—è —Ñ–∞–π–ª–∞:**
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ `FullTextModal` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `dangerouslySetInnerHTML`

---

## üõ†Ô∏è –ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ï—Å–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å npm run dev (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
npm run dev
```

### –ï—Å–ª–∏ API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å rag_api_server.py (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ  
.\venv\Scripts\python.exe rag/rag_api_server.py
```

### –ñ—ë—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞:
```
Ctrl + Shift + R (Windows/Linux)
Cmd + Shift + R (Mac)
```

---

## üìä –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] RAG API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 5000)
- [ ] Frontend dev server –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 3000)  
- [ ] `test_api.py` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- [ ] `test_api_browser.html` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤–∏–¥–Ω—ã –ª–æ–≥–∏ "üîç RAG Search Response"
- [ ] –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- [ ] –ö–Ω–æ–ø–∫–∞ "Read Full" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç HTML —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

---

## üí° –°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

–ù–∞—á–Ω–∏ —Å **–®–∞–≥–∞ 1** –∏ —Å–æ–æ–±—â–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
–ú—ã –±—É–¥–µ–º –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ—à–∞–≥–æ–≤–æ –¥–æ –≤—ã—è–≤–ª–µ–Ω–∏—è —Ç–æ—á–Ω–æ–π –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã.
